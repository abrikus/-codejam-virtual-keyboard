!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";e.a=[[["key","Backquote","`","~","ё","Ё"],["key","Digit1","1","!","1","!"],["key","Digit2","2","@","2","@"],["key","Digit3","3","#","3","#"],["key","Digit4","4","$","4","$"],["key","Digit5","5","%","5","%"],["key","Digit6","6","^","6","^"],["key","Digit7","7","&","7","&"],["key","Digit8","8","*","8","*"],["key","Digit9","9","(","9","("],["key","Digit0","0",")","0",")"],["key","Minus","-","_","-","_"],["key","Equal","=","+","=","+"],["key backspace","Backspace","Backspace","Backspace","Backspace","Backspace"]],[["key tab","Tab","Tab","Tab","Tab","Tab"],["key","KeyQ","q","Q","й","Й"],["key","KeyW","w","W","ц","Ц"],["key","KeyE","e","E","у","У"],["key","KeyR","r","R","к","К"],["key","KeyT","t","T","е","Е"],["key","KeyY","y","Y","н","Н"],["key","KeyU","u","U","г","Г"],["key","KeyI","i","I","ш","Ш"],["key","KeyO","o","O","щ","Щ"],["key","KeyP","p","P","з","З"],["key bracket-left","BracketLeft","[","{","х","Х"],["key bracket-right","BracketRight","]","}","ъ","Ъ"],["key backslash","Backslash","\\","|","\\","/"],["key delete","Delete","DEL","DEL","DEL","DEL"]],[["key capslock","CapsLock","Caps Lock","Caps Lock","Caps Lock","Caps Lock"],["key","KeyA","a","A","ф","Ф"],["key","KeyS","s","S","ы","Ы"],["key","KeyD","d","D","в","В"],["key","KeyF","f","F","а","А"],["key","KeyG","g","G","п","П"],["key","KeyH","h","H","р","Р"],["key","KeyJ","j","J","о","О"],["key","KeyK","k","K","л","Л"],["key","KeyL","l","L","д","Д"],["key","Semicolon",";",":","ж","Ж"],["key","Quote","'",'"',"э","Э"],["key enter","Enter","Enter","Enter","Enter","Enter"]],[["key shift-left","ShiftLeft","Shift","Shift","Shift","Shift"],["key","KeyZ","z","Z","я","Я"],["key","KeyX","x","X","ч","Ч"],["key","KeyC","c","C","с","С"],["key","KeyV","v","V","м","М"],["key","KeyB","b","B","и","И"],["key","KeyN","n","N","т","Т"],["key","KeyM","m","M","ь","Ь"],["key","Comma",",","<","б","Б"],["key","Period",".",">","ю","Ю"],["key slash","Slash","/","?",".",","],["key arrow-up","ArrowUp","Up","Up","Up","Up"],["key shift-right","ShiftRight","Shift","Shift","Shift","Shift"]],[["key ctrl-left","ControlLeft","Ctrl","Ctrl","Ctrl","Ctrl"],["key win","MetaLeft","Win","Win","Win","Win"],["key alt-left","AltLeft","Alt","Alt","Alt","Alt"],["key space","Space"," "," "," "," "],["key alt-right","AltRight","Alt","Alt","Alt","Alt"],["key ctrl-right","ControlRight","Ctrl","Ctrl","Ctrl","Ctrl"],["key left","ArrowLeft","Left","Left","Left","Left"],["key down","ArrowDown","Down","Down","Down","Down"],["key right","ArrowRight","Right","Right","Right","Right"]]]},function(t,e,n){"use strict";n.r(e),function(t){n(3);var e=n(0),a={firedKey:null,ControlLeft:!1,AltLeft:!1,ShiftLeft:!1,lang:"ru"},o=function(t,e,n,a){var o=document.createElement(t);return null!=e&&o.setAttribute("class",e),null!=a&&(o.innerText=a),n.append(o),o},i=function(e){var n=a.lang,o=a.ShiftLeft;"en"===n&&!1===o&&(e.forEach((function(e){e.forEach((function(e){var n=document.querySelector("div[data-action=".concat(e[1],"]"));t.console.log(e[1]);var a=e[2];n.innerText=a}))})),a.lang="ru"),"en"===n&&!0===o&&(e.forEach((function(e){e.forEach((function(e){var n=document.querySelector("div[data-action=".concat(e[1],"]"));t.console.log(e[1]);var a=e[3];n.innerText=a}))})),a.lang="ru"),"ru"===n&&!1===o&&(e.forEach((function(e){e.forEach((function(e){var n=document.querySelector("div[data-action=".concat(e[1],"]"));t.console.log(e[1]);var a=e[4];n.innerText=a}))})),a.lang="en"),"ru"===n&&!0===o&&(e.forEach((function(e){e.forEach((function(e){var n=document.querySelector("div[data-action=".concat(e[1],"]"));t.console.log(e[1]);var a=e[5];n.innerText=a}))})),a.lang="en")},r=document.querySelector("body"),c=o("div","root",r,null),l=o("div","wrapper",c,null),f=o("textarea",null,l,null),u=o("div","keyboard",l,null);e.a.forEach((function(t){var e=o("section","key-row",u,null);t.forEach((function(t){o("div",t[0],e,t[2]).setAttribute("data-action",t[1])}))}));var y=function(n){var o,r;if(n.preventDefault(),n.code&&(o=document.querySelector("div[data-action=".concat(n.code,"]")),r=n.key),n.target.hasAttribute("data-action")&&(t.console.log(n.target),r=(o=n.target).innerText),o)if(null!==a.firedKey?(a.firedKey.classList.remove("active"),a.firedKey=o):a.firedKey=o,"ShiftLeft"===o.getAttribute("data-action")||"ControlLeft"===o.getAttribute("data-action")||"AltLeft"===o.getAttribute("data-action")){var c=o,l=a.ShiftLeft,u=a.ControlLeft,y=a.AltLeft;"ShiftLeft"===c.getAttribute("data-action")&&(!0===l&&(a.ShiftLeft=!1,c.classList.toggle("active")),!1===l&&(a.ShiftLeft=!0,c.classList.toggle("active")),function(t){var e=a.lang,n=a.ShiftLeft;"ru"===e&&!0===n&&t.forEach((function(t){t.forEach((function(t){var e=document.querySelector("div[data-action=".concat(t[1],"]")),n=t[3];e.innerText=n}))})),"ru"===e&&!1===n&&t.forEach((function(t){t.forEach((function(t){var e=document.querySelector("div[data-action=".concat(t[1],"]")),n=t[2];e.innerText=n}))})),"en"===e&&!0===n&&t.forEach((function(t){t.forEach((function(t){var e=document.querySelector("div[data-action=".concat(t[1],"]")),n=t[5];e.innerText=n}))})),"en"===e&&!1===n&&t.forEach((function(t){t.forEach((function(t){var e=document.querySelector("div[data-action=".concat(t[1],"]")),n=t[4];e.innerText=n}))}))}(e.a)),"ControlLeft"===c.getAttribute("data-action")&&(!0===u&&(a.ControlLeft=!1,c.classList.toggle("active")),!1===u&&(a.ControlLeft=!0,c.classList.toggle("active"),!0===y&&(i(e.a),a.ControlLeft=!1,a.AltLeft=!1))),"AltLeft"===c.getAttribute("data-action")&&(!0===y&&(a.AltLeft=!1,c.classList.toggle("active")),!1===y&&(a.AltLeft=!0,c.classList.toggle("active"),!0===u&&(i(e.a),a.ControlLeft=!1,a.AltLeft=!1))),t.console.log(a)}else"Tab"===o.getAttribute("data-action")?(f.value+=" ".repeat(4),o.classList.toggle("active")):"Enter"===o.getAttribute("data-action")?(f.value+="\n",o.classList.toggle("active")):"Space"===o.getAttribute("data-action")?(f.value+=" ",o.classList.toggle("active")):o.classList.contains("key")&&(f.value+=r,o.classList.toggle("active"))},s=function(){var t=a.firedKey;null!==t&&(t.classList.toggle("active"),t=null)};window.addEventListener("keydown",y),window.addEventListener("keyup",s),u.addEventListener("mousedown",y),u.addEventListener("mouseup",s)}.call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4va2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImtiZGtleXMiLCJzdGF0ZXMiLCJmaXJlZEtleSIsIkNvbnRyb2xMZWZ0IiwiQWx0TGVmdCIsIlNoaWZ0TGVmdCIsImxhbmciLCJjcmVhdGVFbCIsInRhZyIsImNscyIsImFkZFRvIiwidGFndmFsdWUiLCJlbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlubmVyVGV4dCIsImFwcGVuZCIsImNoYW5nZUxhbmciLCJrYmRLZXlzSW5zdCIsImZvckVhY2giLCJrZXlHcm91cCIsImtleUN1cnJlbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2xvYmFsIiwiY29uc29sZSIsImxvZyIsImtleVJ1Iiwia2V5RW4iLCJib2R5Iiwicm9vdCIsIndyYXBwZXIiLCJ0ZXh0QXJlYSIsImtiZENvbnRhaW5lciIsInJvdyIsInNlY3Rpb25Sb3ciLCJrZXlJdGVtIiwia2V5RG93bkxpc3RlbmVyIiwiZXZlbnQiLCJzb21lS2V5Iiwic2V0VmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImNvZGUiLCJ0YXJnZXQiLCJoYXNBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJnZXRBdHRyaWJ1dGUiLCJlbEFkdiIsInRvZ2dsZSIsInNoaWZ0VXBwZXIiLCJyZXBlYXQiLCJjb250YWlucyIsImtleVVwTGlzdGVuZXIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZyIsInRoaXMiLCJGdW5jdGlvbiIsImUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gs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QUNoQlYsRUFBUU0sVUFBVU8sU0FBUyxTQUNwQ3BCLEVBQVMvQyxPQUFTdUQsRUFDbEJELEVBQVFNLFVBQVVJLE9BQU8sWUFLekJJLEVBQWdCLFdBQU0sSUFDcEJuRCxFQUFhRCxFQUFiQyxTQUNXLE9BQWJBLElBQ0ZBLEVBQVMyQyxVQUFVSSxPQUFPLFVBQzFCL0MsRUFBVyxPQUlmb0QsT0FBT0MsaUJBQWlCLFVBQVdsQixHQUNuQ2lCLE9BQU9DLGlCQUFpQixRQUFTRixHQUNqQ3BCLEVBQWFzQixpQkFBaUIsWUFBYWxCLEdBQzNDSixFQUFhc0IsaUJBQWlCLFVBQVdGLEksK0JDMU96QyxJQUFJRyxFQUdKQSxFQUFJLFdBQ0gsT0FBT0MsS0FESixHQUlKLElBRUNELEVBQUlBLEdBQUssSUFBSUUsU0FBUyxjQUFiLEdBQ1IsTUFBT0MsR0FFYyxpQkFBWEwsU0FBcUJFLEVBQUlGLFFBT3JDdkYsRUFBT0QsUUFBVTBGLEciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImNvbnN0IGtiZGtleXMgPSBbXG4gIFtbJ2tleScsICdCYWNrcXVvdGUnLCAnYCcsICd+JywgJ9GRJywgJ9CBJ10sIFsna2V5JywgJ0RpZ2l0MScsICcxJywgJyEnLCAnMScsICchJ10sIFsna2V5JywgJ0RpZ2l0MicsICcyJywgJ0AnLCAnMicsICdAJ10sIFsna2V5JywgJ0RpZ2l0MycsICczJywgJyMnLCAnMycsICcjJ10sIFsna2V5JywgJ0RpZ2l0NCcsICc0JywgJyQnLCAnNCcsICckJ10sIFsna2V5JywgJ0RpZ2l0NScsICc1JywgJyUnLCAnNScsICclJ10sIFsna2V5JywgJ0RpZ2l0NicsICc2JywgJ14nLCAnNicsICdeJ10sIFsna2V5JywgJ0RpZ2l0NycsICc3JywgJyYnLCAnNycsICcmJ10sIFsna2V5JywgJ0RpZ2l0OCcsICc4JywgJyonLCAnOCcsICcqJ10sIFsna2V5JywgJ0RpZ2l0OScsICc5JywgJygnLCAnOScsICcoJ10sIFsna2V5JywgJ0RpZ2l0MCcsICcwJywgJyknLCAnMCcsICcpJ10sIFsna2V5JywgJ01pbnVzJywgJy0nLCAnXycsICctJywgJ18nXSwgWydrZXknLCAnRXF1YWwnLCAnPScsICcrJywgJz0nLCAnKyddLCBbJ2tleSBiYWNrc3BhY2UnLCAnQmFja3NwYWNlJywgJ0JhY2tzcGFjZScsICdCYWNrc3BhY2UnLCAnQmFja3NwYWNlJywgJ0JhY2tzcGFjZSddXSxcbiAgW1sna2V5IHRhYicsICdUYWInLCAnVGFiJywgJ1RhYicsICdUYWInLCAnVGFiJ10sIFsna2V5JywgJ0tleVEnLCAncScsICdRJywgJ9C5JywgJ9CZJ10sIFsna2V5JywgJ0tleVcnLCAndycsICdXJywgJ9GGJywgJ9CmJ10sIFsna2V5JywgJ0tleUUnLCAnZScsICdFJywgJ9GDJywgJ9CjJ10sIFsna2V5JywgJ0tleVInLCAncicsICdSJywgJ9C6JywgJ9CaJ10sIFsna2V5JywgJ0tleVQnLCAndCcsICdUJywgJ9C1JywgJ9CVJ10sIFsna2V5JywgJ0tleVknLCAneScsICdZJywgJ9C9JywgJ9CdJ10sIFsna2V5JywgJ0tleVUnLCAndScsICdVJywgJ9CzJywgJ9CTJ10sIFsna2V5JywgJ0tleUknLCAnaScsICdJJywgJ9GIJywgJ9CoJ10sIFsna2V5JywgJ0tleU8nLCAnbycsICdPJywgJ9GJJywgJ9CpJ10sIFsna2V5JywgJ0tleVAnLCAncCcsICdQJywgJ9C3JywgJ9CXJ10sIFsna2V5IGJyYWNrZXQtbGVmdCcsICdCcmFja2V0TGVmdCcsICdbJywgJ3snLCAn0YUnLCAn0KUnXSwgWydrZXkgYnJhY2tldC1yaWdodCcsICdCcmFja2V0UmlnaHQnLCAnXScsICd9JywgJ9GKJywgJ9CqJ10sIFsna2V5IGJhY2tzbGFzaCcsICdCYWNrc2xhc2gnLCAnXFxcXCcsICd8JywgJ1xcXFwnLCAnLyddLCBbJ2tleSBkZWxldGUnLCAnRGVsZXRlJywgJ0RFTCcsICdERUwnLCAnREVMJywgJ0RFTCddXSxcbiAgW1sna2V5IGNhcHNsb2NrJywgJ0NhcHNMb2NrJywgJ0NhcHMgTG9jaycsICdDYXBzIExvY2snLCAnQ2FwcyBMb2NrJywgJ0NhcHMgTG9jayddLCBbJ2tleScsICdLZXlBJywgJ2EnLCAnQScsICfRhCcsICfQpCddLCBbJ2tleScsICdLZXlTJywgJ3MnLCAnUycsICfRiycsICfQqyddLCBbJ2tleScsICdLZXlEJywgJ2QnLCAnRCcsICfQsicsICfQkiddLCBbJ2tleScsICdLZXlGJywgJ2YnLCAnRicsICfQsCcsICfQkCddLCBbJ2tleScsICdLZXlHJywgJ2cnLCAnRycsICfQvycsICfQnyddLCBbJ2tleScsICdLZXlIJywgJ2gnLCAnSCcsICfRgCcsICfQoCddLCBbJ2tleScsICdLZXlKJywgJ2onLCAnSicsICfQvicsICfQniddLCBbJ2tleScsICdLZXlLJywgJ2snLCAnSycsICfQuycsICfQmyddLCBbJ2tleScsICdLZXlMJywgJ2wnLCAnTCcsICfQtCcsICfQlCddLCBbJ2tleScsICdTZW1pY29sb24nLCAnOycsICc6JywgJ9C2JywgJ9CWJ10sIFsna2V5JywgJ1F1b3RlJywgJ1xcJycsICdcIicsICfRjScsICfQrSddLCBbJ2tleSBlbnRlcicsICdFbnRlcicsICdFbnRlcicsICdFbnRlcicsICdFbnRlcicsICdFbnRlciddXSxcbiAgW1sna2V5IHNoaWZ0LWxlZnQnLCAnU2hpZnRMZWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0J10sIFsna2V5JywgJ0tleVonLCAneicsICdaJywgJ9GPJywgJ9CvJ10sIFsna2V5JywgJ0tleVgnLCAneCcsICdYJywgJ9GHJywgJ9CnJ10sIFsna2V5JywgJ0tleUMnLCAnYycsICdDJywgJ9GBJywgJ9ChJ10sIFsna2V5JywgJ0tleVYnLCAndicsICdWJywgJ9C8JywgJ9CcJ10sIFsna2V5JywgJ0tleUInLCAnYicsICdCJywgJ9C4JywgJ9CYJ10sIFsna2V5JywgJ0tleU4nLCAnbicsICdOJywgJ9GCJywgJ9CiJ10sIFsna2V5JywgJ0tleU0nLCAnbScsICdNJywgJ9GMJywgJ9CsJ10sIFsna2V5JywgJ0NvbW1hJywgJywnLCAnPCcsICfQsScsICfQkSddLCBbJ2tleScsICdQZXJpb2QnLCAnLicsICc+JywgJ9GOJywgJ9CuJ10sIFsna2V5IHNsYXNoJywgJ1NsYXNoJywgJy8nLCAnPycsICcuJywgJywnXSwgWydrZXkgYXJyb3ctdXAnLCAnQXJyb3dVcCcsICdVcCcsICdVcCcsICdVcCcsICdVcCddLCBbJ2tleSBzaGlmdC1yaWdodCcsICdTaGlmdFJpZ2h0JywgJ1NoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0JywgJ1NoaWZ0J11dLFxuICBbWydrZXkgY3RybC1sZWZ0JywgJ0NvbnRyb2xMZWZ0JywgJ0N0cmwnLCAnQ3RybCcsICdDdHJsJywgJ0N0cmwnXSwgWydrZXkgd2luJywgJ01ldGFMZWZ0JywgJ1dpbicsICdXaW4nLCAnV2luJywgJ1dpbiddLCBbJ2tleSBhbHQtbGVmdCcsICdBbHRMZWZ0JywgJ0FsdCcsICdBbHQnLCAnQWx0JywgJ0FsdCddLCBbJ2tleSBzcGFjZScsICdTcGFjZScsICcgJywgJyAnLCAnICcsICcgJ10sIFsna2V5IGFsdC1yaWdodCcsICdBbHRSaWdodCcsICdBbHQnLCAnQWx0JywgJ0FsdCcsICdBbHQnXSwgWydrZXkgY3RybC1yaWdodCcsICdDb250cm9sUmlnaHQnLCAnQ3RybCcsICdDdHJsJywgJ0N0cmwnLCAnQ3RybCddLCBbJ2tleSBsZWZ0JywgJ0Fycm93TGVmdCcsICdMZWZ0JywgJ0xlZnQnLCAnTGVmdCcsICdMZWZ0J10sIFsna2V5IGRvd24nLCAnQXJyb3dEb3duJywgJ0Rvd24nLCAnRG93bicsICdEb3duJywgJ0Rvd24nXSwgWydrZXkgcmlnaHQnLCAnQXJyb3dSaWdodCcsICdSaWdodCcsICdSaWdodCcsICdSaWdodCcsICdSaWdodCddXSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGtiZGtleXM7XG4iLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBrYmRrZXlzIGZyb20gJy4va2V5cyc7XG5cbmNvbnN0IHN0YXRlcyA9IHtcbiAgZmlyZWRLZXk6IG51bGwsXG4gIENvbnRyb2xMZWZ0OiBmYWxzZSxcbiAgQWx0TGVmdDogZmFsc2UsXG4gIFNoaWZ0TGVmdDogZmFsc2UsXG4gIGxhbmc6ICdydScsXG59O1xuXG5jb25zdCBjcmVhdGVFbCA9ICh0YWcsIGNscywgYWRkVG8sIHRhZ3ZhbHVlKSA9PiB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAoY2xzICE9IG51bGwpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xzKTtcbiAgfVxuICBpZiAodGFndmFsdWUgIT0gbnVsbCkge1xuICAgIGVsLmlubmVyVGV4dCA9IHRhZ3ZhbHVlO1xuICB9XG5cbiAgYWRkVG8uYXBwZW5kKGVsKTtcbiAgcmV0dXJuIGVsO1xufTtcblxuY29uc3QgY2hhbmdlTGFuZyA9IChrYmRLZXlzSW5zdCkgPT4ge1xuICBjb25zdCB7IGxhbmcsIFNoaWZ0TGVmdCB9ID0gc3RhdGVzO1xuICBpZiAobGFuZyA9PT0gJ2VuJyAmJiBTaGlmdExlZnQgPT09IGZhbHNlKSB7XG4gICAga2JkS2V5c0luc3QuZm9yRWFjaCgoa2V5R3JvdXApID0+IHtcbiAgICAgIGtleUdyb3VwLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBrZXlDdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZGl2W2RhdGEtYWN0aW9uPSR7a2V5WzFdfV1gKTtcbiAgICAgICAgZ2xvYmFsLmNvbnNvbGUubG9nKGtleVsxXSk7XG4gICAgICAgIGNvbnN0IGtleVJ1ID0ga2V5WzJdO1xuICAgICAgICBrZXlDdXJyZW50LmlubmVyVGV4dCA9IGtleVJ1O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3RhdGVzLmxhbmcgPSAncnUnO1xuICB9XG5cbiAgaWYgKGxhbmcgPT09ICdlbicgJiYgU2hpZnRMZWZ0ID09PSB0cnVlKSB7XG4gICAga2JkS2V5c0luc3QuZm9yRWFjaCgoa2V5R3JvdXApID0+IHtcbiAgICAgIGtleUdyb3VwLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBrZXlDdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZGl2W2RhdGEtYWN0aW9uPSR7a2V5WzFdfV1gKTtcbiAgICAgICAgZ2xvYmFsLmNvbnNvbGUubG9nKGtleVsxXSk7XG4gICAgICAgIGNvbnN0IGtleVJ1ID0ga2V5WzNdO1xuICAgICAgICBrZXlDdXJyZW50LmlubmVyVGV4dCA9IGtleVJ1O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3RhdGVzLmxhbmcgPSAncnUnO1xuICB9XG5cbiAgaWYgKGxhbmcgPT09ICdydScgJiYgU2hpZnRMZWZ0ID09PSBmYWxzZSkge1xuICAgIGtiZEtleXNJbnN0LmZvckVhY2goKGtleUdyb3VwKSA9PiB7XG4gICAgICBrZXlHcm91cC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qga2V5Q3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltkYXRhLWFjdGlvbj0ke2tleVsxXX1dYCk7XG4gICAgICAgIGdsb2JhbC5jb25zb2xlLmxvZyhrZXlbMV0pO1xuICAgICAgICBjb25zdCBrZXlFbiA9IGtleVs0XTtcbiAgICAgICAga2V5Q3VycmVudC5pbm5lclRleHQgPSBrZXlFbjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN0YXRlcy5sYW5nID0gJ2VuJztcbiAgfVxuXG4gIGlmIChsYW5nID09PSAncnUnICYmIFNoaWZ0TGVmdCA9PT0gdHJ1ZSkge1xuICAgIGtiZEtleXNJbnN0LmZvckVhY2goKGtleUdyb3VwKSA9PiB7XG4gICAgICBrZXlHcm91cC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qga2V5Q3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltkYXRhLWFjdGlvbj0ke2tleVsxXX1dYCk7XG4gICAgICAgIGdsb2JhbC5jb25zb2xlLmxvZyhrZXlbMV0pO1xuICAgICAgICBjb25zdCBrZXlFbiA9IGtleVs1XTtcbiAgICAgICAga2V5Q3VycmVudC5pbm5lclRleHQgPSBrZXlFbjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN0YXRlcy5sYW5nID0gJ2VuJztcbiAgfVxufTtcblxuY29uc3Qgc2hpZnRVcHBlciA9IChrYmRLZXlzSW5zdCkgPT4ge1xuICBjb25zdCB7IGxhbmcsIFNoaWZ0TGVmdCB9ID0gc3RhdGVzO1xuICBpZiAobGFuZyA9PT0gJ3J1JyAmJiBTaGlmdExlZnQgPT09IHRydWUpIHtcbiAgICBrYmRLZXlzSW5zdC5mb3JFYWNoKChrZXlHcm91cCkgPT4ge1xuICAgICAga2V5R3JvdXAuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleUN1cnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbZGF0YS1hY3Rpb249JHtrZXlbMV19XWApO1xuICAgICAgICBjb25zdCBrZXlSdSA9IGtleVszXTtcbiAgICAgICAga2V5Q3VycmVudC5pbm5lclRleHQgPSBrZXlSdTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGxhbmcgPT09ICdydScgJiYgU2hpZnRMZWZ0ID09PSBmYWxzZSkge1xuICAgIGtiZEtleXNJbnN0LmZvckVhY2goKGtleUdyb3VwKSA9PiB7XG4gICAgICBrZXlHcm91cC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qga2V5Q3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltkYXRhLWFjdGlvbj0ke2tleVsxXX1dYCk7XG4gICAgICAgIGNvbnN0IGtleVJ1ID0ga2V5WzJdO1xuICAgICAgICBrZXlDdXJyZW50LmlubmVyVGV4dCA9IGtleVJ1O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAobGFuZyA9PT0gJ2VuJyAmJiBTaGlmdExlZnQgPT09IHRydWUpIHtcbiAgICBrYmRLZXlzSW5zdC5mb3JFYWNoKChrZXlHcm91cCkgPT4ge1xuICAgICAga2V5R3JvdXAuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleUN1cnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbZGF0YS1hY3Rpb249JHtrZXlbMV19XWApO1xuICAgICAgICBjb25zdCBrZXlFbiA9IGtleVs1XTtcbiAgICAgICAga2V5Q3VycmVudC5pbm5lclRleHQgPSBrZXlFbjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGxhbmcgPT09ICdlbicgJiYgU2hpZnRMZWZ0ID09PSBmYWxzZSkge1xuICAgIGtiZEtleXNJbnN0LmZvckVhY2goKGtleUdyb3VwKSA9PiB7XG4gICAgICBrZXlHcm91cC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qga2V5Q3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltkYXRhLWFjdGlvbj0ke2tleVsxXX1dYCk7XG4gICAgICAgIGNvbnN0IGtleUVuID0ga2V5WzRdO1xuICAgICAgICBrZXlDdXJyZW50LmlubmVyVGV4dCA9IGtleUVuO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5jb25zdCByb290ID0gY3JlYXRlRWwoJ2RpdicsICdyb290JywgYm9keSwgbnVsbCk7XG5jb25zdCB3cmFwcGVyID0gY3JlYXRlRWwoJ2RpdicsICd3cmFwcGVyJywgcm9vdCwgbnVsbCk7XG5jb25zdCB0ZXh0QXJlYSA9IGNyZWF0ZUVsKCd0ZXh0YXJlYScsIG51bGwsIHdyYXBwZXIsIG51bGwpO1xuY29uc3Qga2JkQ29udGFpbmVyID0gY3JlYXRlRWwoJ2RpdicsICdrZXlib2FyZCcsIHdyYXBwZXIsIG51bGwpO1xuXG5cbmtiZGtleXMuZm9yRWFjaCgocm93KSA9PiB7XG4gIGNvbnN0IHNlY3Rpb25Sb3cgPSBjcmVhdGVFbCgnc2VjdGlvbicsICdrZXktcm93Jywga2JkQ29udGFpbmVyLCBudWxsKTtcbiAgcm93LmZvckVhY2goKGtleUl0ZW0pID0+IHtcbiAgICBjb25zdCBrZXlEaXYgPSBjcmVhdGVFbCgnZGl2Jywga2V5SXRlbVswXSwgc2VjdGlvblJvdywga2V5SXRlbVsyXSk7XG4gICAga2V5RGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nLCBrZXlJdGVtWzFdKTtcbiAgfSk7XG59KTtcblxuY29uc3Qga2V5RG93bkxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGxldCBzb21lS2V5O1xuICBsZXQgc2V0VmFsdWU7XG4gIGlmIChldmVudC5jb2RlKSB7XG4gICAgc29tZUtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltkYXRhLWFjdGlvbj0ke2V2ZW50LmNvZGV9XWApO1xuICAgIHNldFZhbHVlID0gZXZlbnQua2V5O1xuICB9XG5cbiAgaWYgKGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uJykpIHtcbiAgICBnbG9iYWwuY29uc29sZS5sb2coZXZlbnQudGFyZ2V0KTtcbiAgICBzb21lS2V5ID0gZXZlbnQudGFyZ2V0O1xuICAgIHNldFZhbHVlID0gc29tZUtleS5pbm5lclRleHQ7XG4gIH1cblxuICBpZiAoc29tZUtleSkge1xuICAgIGlmIChzdGF0ZXMuZmlyZWRLZXkgIT09IG51bGwpIHtcbiAgICAgIHN0YXRlcy5maXJlZEtleS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHN0YXRlcy5maXJlZEtleSA9IHNvbWVLZXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlcy5maXJlZEtleSA9IHNvbWVLZXk7XG4gICAgfVxuICAgIGlmIChzb21lS2V5LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKSA9PT0gJ1NoaWZ0TGVmdCdcbiAgICB8fCBzb21lS2V5LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKSA9PT0gJ0NvbnRyb2xMZWZ0J1xuICAgIHx8IHNvbWVLZXkuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicpID09PSAnQWx0TGVmdCcpIHtcbiAgICAgIGNvbnN0IGVsQWR2ID0gc29tZUtleTtcbiAgICAgIGNvbnN0IHsgU2hpZnRMZWZ0LCBDb250cm9sTGVmdCwgQWx0TGVmdCB9ID0gc3RhdGVzO1xuICAgICAgaWYgKGVsQWR2LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKSA9PT0gJ1NoaWZ0TGVmdCcpIHtcbiAgICAgICAgaWYgKFNoaWZ0TGVmdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHN0YXRlcy5TaGlmdExlZnQgPSBmYWxzZTtcbiAgICAgICAgICBlbEFkdi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU2hpZnRMZWZ0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHN0YXRlcy5TaGlmdExlZnQgPSB0cnVlO1xuICAgICAgICAgIGVsQWR2LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHNoaWZ0VXBwZXIoa2Jka2V5cyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbEFkdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uJykgPT09ICdDb250cm9sTGVmdCcpIHtcbiAgICAgICAgaWYgKENvbnRyb2xMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgc3RhdGVzLkNvbnRyb2xMZWZ0ID0gZmFsc2U7XG4gICAgICAgICAgZWxBZHYuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQ29udHJvbExlZnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgc3RhdGVzLkNvbnRyb2xMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgICBlbEFkdi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgICAgICBpZiAoQWx0TGVmdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2hhbmdlTGFuZyhrYmRrZXlzKTtcbiAgICAgICAgICAgIHN0YXRlcy5Db250cm9sTGVmdCA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGVzLkFsdExlZnQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsQWR2LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKSA9PT0gJ0FsdExlZnQnKSB7XG4gICAgICAgIGlmIChBbHRMZWZ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgc3RhdGVzLkFsdExlZnQgPSBmYWxzZTtcbiAgICAgICAgICBlbEFkdi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBbHRMZWZ0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHN0YXRlcy5BbHRMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgICBlbEFkdi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgICAgICBpZiAoQ29udHJvbExlZnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNoYW5nZUxhbmcoa2Jka2V5cyk7XG4gICAgICAgICAgICBzdGF0ZXMuQ29udHJvbExlZnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlcy5BbHRMZWZ0ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGdsb2JhbC5jb25zb2xlLmxvZyhzdGF0ZXMpO1xuICAgIH0gZWxzZSBpZiAoc29tZUtleS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uJykgPT09ICdUYWInKSB7XG4gICAgICB0ZXh0QXJlYS52YWx1ZSArPSAnICcucmVwZWF0KDQpO1xuICAgICAgc29tZUtleS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB9IGVsc2UgaWYgKHNvbWVLZXkuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicpID09PSAnRW50ZXInKSB7XG4gICAgICB0ZXh0QXJlYS52YWx1ZSArPSAnXFxuJztcbiAgICAgIHNvbWVLZXkuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIGlmIChzb21lS2V5LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKSA9PT0gJ1NwYWNlJykge1xuICAgICAgdGV4dEFyZWEudmFsdWUgKz0gJyAnO1xuICAgICAgc29tZUtleS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB9IGVsc2UgaWYgKHNvbWVLZXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdrZXknKSkge1xuICAgICAgdGV4dEFyZWEudmFsdWUgKz0gc2V0VmFsdWU7XG4gICAgICBzb21lS2V5LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3Qga2V5VXBMaXN0ZW5lciA9ICgpID0+IHtcbiAgbGV0IHsgZmlyZWRLZXkgfSA9IHN0YXRlcztcbiAgaWYgKGZpcmVkS2V5ICE9PSBudWxsKSB7XG4gICAgZmlyZWRLZXkuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgZmlyZWRLZXkgPSBudWxsO1xuICB9XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleURvd25MaXN0ZW5lcik7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlVcExpc3RlbmVyKTtcbmtiZENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBrZXlEb3duTGlzdGVuZXIpO1xua2JkQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBrZXlVcExpc3RlbmVyKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiJdLCJzb3VyY2VSb290IjoiIn0=